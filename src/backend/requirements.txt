# Core Framework
fastapi==0.108.0          # Modern Python web framework
uvicorn[standard]==0.25.0 # ASGI server with hot reload
python-multipart==0.0.6   # File upload support
pydantic==2.5.0           # Data validation

# Video Processing Dependencies
ffmpeg-python==0.2.0      # FFmpeg Python bindings
aiofiles==23.2.1          # Async file operations

# AI Upscaling Dependencies
# Version compatibility is critical: numpy 1.x is required by PyTorch/Real-ESRGAN
numpy>=1.24.0,<2.0.0      # Numerical computing (MUST be 1.x for PyTorch compatibility)
# Note: Install PyTorch separately with CUDA support to avoid pulling in torchaudio
# For CUDA 11.8: pip install torch torchvision --index-url https://download.pytorch.org/whl/cu118
# For CUDA 12.1: pip install torch torchvision --index-url https://download.pytorch.org/whl/cu121
# For CPU only: pip install torch torchvision
opencv-python>=4.8.0,<4.10.0  # OpenCV (pinned to 4.8-4.9 for numpy 1.x compatibility)
pillow>=10.0.0            # Image processing library
# Real-ESRGAN and its dependencies
facexlib>=0.3.0           # Face detection and restoration (required by realesrgan)
gfpgan>=1.3.8             # GAN for face restoration (required by realesrgan)
git+https://github.com/xinntao/Real-ESRGAN.git  # Real-ESRGAN AI upscaling (latest from source)
wget>=3.2                 # Download model weights
